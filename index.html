<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Gizra</title>

		<meta name="description" content="DrupalCon Nola">
		<meta name="author" content="Amitai Burstein (amitaibu)">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">
		<link href="//fonts.googleapis.com/css?family=Abril+Fatface" rel="stylesheet" type="text/css">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section data-background="https://cloud.githubusercontent.com/assets/125707/11417279/6ad89eca-941e-11e5-90af-6c8e4431eb5c.jpg">
          <div style="background-color: black; opacity: 0.75; padding: 20px;">
            <h2>Elm</h2>
            A different approach to webapps
          </div>
					<aside class="notes">
						<li>Functional programming language, with similarity to Haskell</li>
						<li>Here to fix JS problems</li>
			    </aside>
        </section>


				<section>
          <small>Counter.elm</small>
          <pre style="width: 100%;"><code data-trim>
module Counter where

import Html exposing (..)
import Html.Events exposing (onClick)

-- MODEL

type alias Model = Int

init : Int -> Model
init count = count

-- UPDATE

type Action = Increment | Decrement

update : Action -> Model -> Model
update action model =
  case action of
    Increment -> model + 1
    Decrement -> model - 1

-- VIEW

view : Signal.Address Action -> Model -> Html
view address model =
  div []
    [ button [ onClick address Decrement ] [ text "-" ]
    , div [] [ text (toString model) ]
    , button [ onClick address Increment ] [ text "+" ]
    ]
          </code></pre>
        </section>

				<section>
						<div class="">
							3.11.1
						</div>
					 <div class="">
					 	liability for personal injury or death as a result from a developer’s negligence or malpractice
					 </div>
				</section>

				<section>
					<img src="https://cloud.githubusercontent.com/assets/125707/14980235/f8d5b058-112f-11e6-9227-8f1976ce9512.png" alt="" class="stretch" />
				</section>


				<section>
					<h3>Elm Architecture</h3>
				</section>

				<section>
          <div>
            <h3>Principle 1: Single source of truth</h3>
            <small>The state of your whole application is stored in a record tree</small>
          </div>

					<aside class="notes">
אם עבדתם עם אנגולר ואם נכוותם מיד תתחילו להנהן.
עושים אביוז לראוטר
האופי האסינכורני של גווהסקריפט
			    </aside>
        </section>

        <section>
          <div>
            <h3>Principle 2: State is read-only</h3>
            <small>The only way to mutate the state is to emit an action describing what happened</small>
          </div>

					<aside class="notes">
 מה שגרם לאנשים לאהוב את אנגולר, כיום גורם להם לשנוא אותו
next: time travel
			    </aside>
        </section>

				<section>
					Model -> Update -> View
				</section>

				<section>
					My wife's great tip on how I should open my presentation is to tell you more about
					myself, because according to her, it helps create interest
					in the presentation, which again according to her, is way too technical,
					and super boring, and she hardly thinks anyone will come, let alone
					enjoy it.
				</section>


				<!-- Elm app -->
				<section data-background-iframe="http://gfycat.com/ifr/OfficialNeighboringGalapagoshawk">
				</section>

				<!-- About  -->
				<section data-background="https://cloud.githubusercontent.com/assets/125707/12092123/dd49649a-b303-11e5-9355-e49a3881f5bd.png">
					<span style="background-color: black; opacity: 0.85; padding: 20px 40px;">
						<span style="font-family: Abril Fatface; color: #e27058; font-size: 50px;">
							gizra
						</span>
						<span>// @amitaibu</span>
					</span>

					<aside class="notes" data-markdown>
						Twitter
					</aside>
				</section>

				<!-- Elm app -->
				<section data-background-iframe="http://gfycat.com/ifr/OfficialNeighboringGalapagoshawk">
					<aside class="notes" data-markdown>
* לא נכונה מבחינה ביוגרפית, אבל נכונה מבחינה טכנית
* How to think Elm
					</aside>
				</section>

				<section>
					<pre>
						<code class="elm" data-trim>
module Person where

import Effects exposing (Effects)
import Html exposing (button, div, pre, text, Html)
import Html.Events exposing (onClick)

-- MODEL

type alias Model =
  { age  : Int
  , kids : Int
  , name : String
  }

initialModel : Model
initialModel =
  { age  = 38
  , kids = 3
  , name = "Amitai"
  }

init : (Model, Effects Action)
init =
  ( initialModel
  , Effects.none
  )

-- UPDATE

type Action = Decrement | Increment

update : Action -> Model -> (Model, Effects Action)
update action model =
  case action of
    Decrement ->
      ( { model | kids = model.kids - 1 }
      , Effects.none
      )

    Increment ->
      ( { model | kids = model.kids + 1 }
      , Effects.none
      )

						</code>
					</pre>

					<aside class="notes" data-markdown>
						Next: View
					</aside>
				</section>

				<section>
					<pre>
						<code class="elm" data-trim>
view : Signal.Address Action -> Model -> Html
view address model =
  div []
    [ div [] [ text <| "Name: " ++ model.name ]
    , div [] [ text <| "Age: " ++ (toString model.age) ]
    , div [] [ text <| "Kids num: " ++ (toString model.kids) ]
    , button [ onClick address Decrement ] [ text "-" ]
    , button [ onClick address Increment ] [ text "+" ]
    , pre [] [ text (toString model) ]
    ]





--
						</code>
					</pre>
					<aside class="notes" data-markdown>
						Next: Clenup the View
					</aside>
				</section>

				<section>
					<pre>
						<code class="elm" data-trim>
view : Signal.Address Action -> Model -> Html
view address model =
  div []
    [ viewName model.name
    , viewAge  model.age
    , viewKids model.age
    , button [ onClick address Decrement ] [ text "-" ]
    , button [ onClick address Increment ] [ text "+" ]
    , pre [] [ text (toString model) ]
    ]

viewName : String -> Html
viewName name =
  div [] [ text <| "Name: " ++ name ]

viewAge : Int -> Html
viewAge age =
  div [] [ text <| "Age: " ++ (toString age) ]

viewKids : Int -> Html
viewKids kids =
  div [] [ text <| "Kids num: " ++ (toString kids) ]
						</code>
					</pre>

					<aside class="notes" data-markdown>
Everything in Elm is a function
					</aside>
				</section>

				<!-- Age instead of kids -->
				<section>
					<img src="https://cloud.githubusercontent.com/assets/125707/13567524/6834a4ca-e464-11e5-971e-27e825b67aff.jpg" alt="" />

					<aside class="notes" data-markdown>
						* Kids is wrong
						* לא עומד מבחינה כלכלית
					</aside>
				</section>

				<section>
					<h3>Compile Error Vs Runtime Error</h3>
				</section>

				<section>
					<h2>Types 101</h2>
				</section>

				<!-- Bool type -->
				<section>
					<pre>
						<code class="elm" data-trim>
type Bool = False | True
						</code>
					</pre>
				</section>

				<!-- Vehicle type -->
				<section>
					<pre>
						<code class="elm" data-trim>
type Vehicle = Boat | Plane | Car Int

type alias Model =
  { name    : String
  , vehicle : Vehicle
  }
						</code>
					</pre>
				</section>

				<section>
					<h2>Type Safety</h2>
				</section>

				<!-- Kids & Name both Int -->
				<section>
					<pre>
						<code class="elm" data-trim>
--

type alias Model =
  { age  : Int
  , kids : Int
  , name : String
  }

initialModel : Model
initialModel =
  { age  = 38
  , kids = 3
  , name = "Amitai"
  }
						</code>
					</pre>
				</section>

				<!-- Kids type -->
				<section>
					<pre>
						<code class="elm" data-trim>
type Kids = Kids Int

type alias Model =
  { age  : Int
  , kids : Kids
  , name : String
  }

initialModel : Model
initialModel =
  { age  = 38
  , kids = Kids 3
  , name = "Amitai"
  }

						</code>
					</pre>
				</section>

				<!-- Kids type view before change -->
				<section>
					<pre>
						<code class="elm" data-trim>
viewKids : Int -> Html
viewKids kids =
  div [] [ text <| "Kids num: " ++ (toString kids) ]


--
						</code>
					</pre>

					<aside class="notes" data-markdown>
						View before change
					</aside>
				</section>

				<section>
					<pre>
						<code class="elm" data-trim>
viewKids : Kids -> Html
viewKids kids =
  let
    (Kids val) = kids
  in
    div [] [ text <| "Kids num: " ++ (toString val) ]
						</code>
					</pre>
				</section>

				<section>
					<pre>
						<code class="elm" data-trim>
viewKids : Kids -> Html
viewKids (Kids kids) =
  div [] [ text <| "Kids num: " ++ (toString val) ]
						</code>
					</pre>
				</section>


				<!-- Error in Atom -->
				<section>
					<img src="https://cloud.githubusercontent.com/assets/125707/13567992/4b8b10f4-e467-11e5-8403-2eed4c375d18.jpg" class="stretch" />
				</section>

				<section data-background="https://cloud.githubusercontent.com/assets/125707/11406621/fdfa8e38-93b6-11e5-8c6d-49ddf1a6abc6.jpg">
           <h2 style="background-color: black; opacity: 0.75; padding: 10px;">
 						הקומפיילר האוטומטי
 					</h2>
         </section>

         <section>
           <img style="width: 100%;" src="https://cloud.githubusercontent.com/assets/125707/11406290/303332f8-93b5-11e5-982f-c03cba493dc8.png" />
         </section>

 				<section>
           <img src="https://cloud.githubusercontent.com/assets/125707/11406768/c6e62ee2-93b7-11e5-82aa-4a91ecefbbfa.png" />

 					<aside class="notes">
 						<div>
 							ברגע שאתה מספק את הקומפיילר, האפילקציה שלך פשוט עובדת
 						</div>
 						<div>
 							לא מפחד לכתוב חלקים גדולים מחדש
 						</div>

						<div>
							Next: Kids in update func
						</div>


 			    </aside>
         </section>

				<!-- Update before change -->
				<section>
					<pre>
						<code class="elm" data-trim>
update : Action -> Model -> (Model, Effects Action)
update action model =
  case action of
    Decrement ->
      ( { model | kids = model.kids - 1 }
      , Effects.none
      )

    Increment ->
      ( { model | kids = model.kids + 1 }
      , Effects.none
      )




--
						</code>
					</pre>
				</section>

				<!-- Update after change -->
				<section>
					<pre>
						<code class="elm" data-trim>
update : Action -> Model -> (Model, Effects Action)
update action model =
  case action of
    Decrement ->
      let
        (Kids val) = model.kids
        kids' = Kids (val - 1)
      in
        ( { model | kids = kids' }
        , Effects.none
        )

    Increment ->
      let
        (Kids val) = model.kids
        kids' = Kids (val + 1)
      in
        ( { model | kids = kids' }
        , Effects.none
        )
						</code>
					</pre>
				</section>

				<section>
					<h3>Business logic from the Data level</h3>
					<img src="https://cloud.githubusercontent.com/assets/125707/13569416/ab1d916e-e470-11e5-8e4f-efdc00cba923.jpg" alt="" />
				</section>

				<!-- Limit on kids -->
				<section data-background-iframe="http://gfycat.com/ifr/BossyExemplaryIndianpalmsquirrel">

					<aside class="notes" data-markdown>
						לטובת בריאות המשפחה לא נוכל לעלות על 5 ילדים
					</aside>
				</section>

				<!-- Before limit update change -->
				<section>
					<pre>
						<code class="elm" data-trim>
update : Action -> Model -> (Model, Effects Action)
update action model =
  case action of
    Decrement ->
      let
        (Kids val) = model.kids
        kids' = Kids (val - 1)
      in
        ( { model | kids = kids' }
        , Effects.none
        )

    Increment ->
      let
        (Kids val) = model.kids
        kids' = Kids (val + 1)
      in
        ( { model | kids = kids' }
        , Effects.none
        )
						</code>
					</pre>

					<aside class="notes" data-markdown>
						Unidirectional, we don't have 2 way binding problems
					</aside>
				</section>

				<!-- After limit update change -->
				<section>
					<pre>
						<code class="elm" data-trim>
update : Action -> Model -> (Model, Effects Action)
update action model =
  case action of
    Decrement ->
      let
        (Kids val) = model.kids
        kids' = if val < 1 then Kids 0 else Kids (val - 1)
      in
        ( { model | kids = kids' }
        , Effects.none
        )

    Increment ->
      let
        (Kids val) = model.kids
        kids' = if val > 4 then Kids 5 else Kids (val + 1)
      in
        ( { model | kids = kids' }
        , Effects.none
        )
						</code>
					</pre>
				</section>

				<section data-background="https://cloud.githubusercontent.com/assets/125707/11408379/4deb2934-93c1-11e5-817d-43d035182fea.jpg">
	         <h2 style="background-color: black; opacity: 0.85; padding: 20px;">
							Unit tests
						</h2>

						<aside class="notes">
							pure functions
							Who enjoys writing unit tests?
				    </aside>
	       </section>

				<section>
					<pre>
						<code class="elm" data-trim>
decrementActionSuite : Test
decrementActionSuite =
  suite "Decerment action"
    [ test "zero count" (assertEqual 0 (updateKids Person.Decrement 0))
    , test "positive count" (assertEqual 0 (updateKids Person.Decrement 1))
    , test "top limit count" (assertEqual 4 (updateKids Person.Decrement 5))
    ]
						</code>
					</pre>
				</section>


				<section>
					<pre>
						<code class="elm" data-trim>
suite "Decerment action"
	[ test "negative count" (assertEqual 0 1)
	]
						</code>
					</pre>
				</section>

				<!-- Failing tests -->
				<section>
					<img src="https://cloud.githubusercontent.com/assets/125707/13571710/57d5119e-e47f-11e5-939a-c3ad4314aa24.jpg" alt="" />
				</section>

				<section>
					<pre>
						<code class="elm" data-trim>
decrementActionSuite : Test
decrementActionSuite =
  suite "Decerment action"
    -- Kids = 0 -> Kids = 0
    [ test "zero count" (assertEqual 0 (updateKids Person.Decrement 0))
    -- Kids = 1 -> Kids = 0
    , test "positive count" (assertEqual 0 (updateKids Person.Decrement 1))
    -- Kids = 5 -> Kids = 4
    , test "top limit count" (assertEqual 4 (updateKids Person.Decrement 5))
    ]

updateKids : Person.Action -> Int -> Int
updateKids action initialKids =
  let
    model = { initialModel | kids = (Person.Kids initialKids) }
    model' = fst <| Person.update action model
    (Person.Kids kids') = model'.kids
  in
    kids'
						</code>
					</pre>
				</section>

				<section>
					<img src="https://cloud.githubusercontent.com/assets/125707/13571886/2679ef9c-e480-11e5-9e2c-cf331f9b599d.jpg" alt="" />
				</section>

				<!-- Last slide -->
				<section data-background="https://cloud.githubusercontent.com/assets/125707/13070800/cf27ec14-d497-11e5-82e3-7cb9c73fe6be.jpg" class="present">
					<div style="background-color: black; opacity: 0.85; padding: 20px 40px;">
						<div style="font-family: Abril Fatface; color: #e27058; font-size: 70px; margin-bottom: 30px;">
							gizra
						</div>

						<div>We are Hiring!</div>
						<small>jobs@gizra.com</small>
					</div>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: true,
				history: true,
				center: true,

				transition: 'none', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'socket.io/socket.io.js', async: true },
	        { src: 'plugin/notes-server/client.js', async: true }
				]
			});

		</script>

	</body>
</html>
